<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BJJ Prep - Preparação para Competições</title>
    <meta name="description" content="Aplicativo para preparação de competições de jiu-jitsu brasileiro">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .app {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Login Screen */
        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .logo {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .login-header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            color: #333;
        }

        .login-header p {
            color: #666;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn-primary {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-bottom: 20px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
        }

        .btn-link {
            background: none;
            border: none;
            color: #667eea;
            cursor: pointer;
            text-decoration: underline;
            font-size: 14px;
        }

        .hidden {
            display: none !important;
        }

        /* Dashboard */
        .dashboard {
            display: none;
            flex: 1;
            background: #f8fafc;
        }

        .dashboard.active {
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .welcome-text {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .subtitle {
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .competition-card {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .competition-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .competition-card h4 {
            font-size: 16px;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .competition-card p {
            margin-bottom: 5px;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 14px;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .action-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .action-card:hover {
            transform: translateY(-2px);
        }

        .action-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .tips-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .tips-section h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .tip-item {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .tip-item:last-child {
            border-bottom: none;
        }

        /* Add Competition */
        .form-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .form-section h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
        }

        .btn-analyze {
            background: linear-gradient(135deg, #10ac84 0%, #00d2d3 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
        }

        .result-card {
            background: linear-gradient(135deg, #10ac84 0%, #00d2d3 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }

        /* AI Chat */
        .chat-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            height: 500px;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            text-align: center;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 15px;
            background: #f1f3f4;
        }

        .message.user .message-content {
            background: #667eea;
            color: white;
        }

        .chat-input {
            padding: 20px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 25px;
            outline: none;
        }

        .btn-send {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
        }

        /* Profile */
        .profile-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .profile-info {
            margin-bottom: 15px;
        }

        .profile-info strong {
            color: #333;
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
        }

        /* Bottom Navigation */
        .bottom-nav {
            background: white;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-around;
        }

        .nav-btn {
            background: none;
            border: none;
            padding: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #666;
            font-size: 12px;
        }

        .nav-btn.active {
            color: #667eea;
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .content {
                padding: 15px;
            }
            
            .login-card {
                padding: 30px 20px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Login Screen -->
        <div id="loginScreen" class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <div class="logo">🥋</div>
                    <h1 id="loginTitle">Entrar</h1>
                    <p id="loginSubtitle">Acesse sua conta BJJ Prep</p>
                </div>

                <form id="loginForm">
                    <div id="nameGroup" class="form-group hidden">
                        <label>Nome Completo</label>
                        <input type="text" id="nameInput" placeholder="João Silva">
                    </div>

                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="emailInput" placeholder="seu@email.com" required>
                    </div>

                    <div class="form-group">
                        <label>Senha</label>
                        <input type="password" id="passwordInput" placeholder="••••••••" required>
                    </div>

                    <button type="submit" class="btn-primary" id="submitBtn">Entrar</button>
                </form>

                <button type="button" class="btn-link" id="toggleBtn">
                    Não tem conta? Criar uma agora
                </button>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="dashboard">
            <div class="header">
                <h1 class="welcome-text">Olá, <span id="userName">Atleta</span>! 👋</h1>
                <p class="subtitle">Bem-vindo ao BJJ Prep</p>
            </div>

            <div class="content">
                <!-- Home Tab -->
                <div id="homeTab" class="tab-content active">
                    <div class="competition-card">
                        <h3>🏆 Próxima Competição</h3>
                        <h4>Campeonato Brasileiro CBJJ 2024</h4>
                        <p>📅 15 de Dezembro, 2024</p>
                        <p>📍 Ginásio do Ibirapuera, São Paulo</p>
                        <p>⏰ 45 dias restantes</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">82.5kg</div>
                            <div class="stat-label">Peso atual</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">12</div>
                            <div class="stat-label">Dias de treino</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">3</div>
                            <div class="stat-label">Competições 2024</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">Amanhã</div>
                            <div class="stat-label">Próximo treino</div>
                        </div>
                    </div>

                    <div class="actions-grid">
                        <div class="action-card" onclick="showTab('addTab')">
                            <div class="action-icon">🏆</div>
                            <h4>Adicionar Competição</h4>
                            <p>Cole o link da competição</p>
                        </div>
                        <div class="action-card" onclick="showTab('chatTab')">
                            <div class="action-icon">🤖</div>
                            <h4>Conversar com AI</h4>
                            <p>Dicas personalizadas</p>
                        </div>
                    </div>

                    <div class="tips-section">
                        <h3>💡 Dicas do AI Coach</h3>
                        <div class="tip-item">
                            💧 Mantenha-se hidratado! Beba pelo menos 35ml por kg de peso corporal diariamente.
                        </div>
                        <div class="tip-item">
                            🥋 Pratique escapes de posições ruins - isso pode salvar sua competição!
                        </div>
                    </div>
                </div>

                <!-- Add Competition Tab -->
                <div id="addTab" class="tab-content">
                    <div class="form-section">
                        <h2>Adicionar Competição</h2>
                        <div class="input-group">
                            <input type="url" id="competitionUrl" placeholder="Cole o link da competição CBJJ/IBJJF aqui...">
                        </div>
                        <button class="btn-analyze" onclick="analyzeCompetition()">Analisar Competição</button>
                        <div id="competitionResult"></div>
                    </div>
                </div>

                <!-- AI Chat Tab -->
                <div id="chatTab" class="tab-content">
                    <div class="chat-container">
                        <div class="chat-header">
                            <h3>🤖 AI Coach</h3>
                            <p>Especialista em jiu-jitsu brasileiro</p>
                        </div>
                        <div class="chat-messages" id="chatMessages">
                            <div class="message">
                                <div class="message-content">
                                    Olá! Sou seu AI Coach especializado em jiu-jitsu. Como posso ajudar você hoje?
                                </div>
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="messageInput" placeholder="Digite sua pergunta..." onkeypress="handleEnter(event)">
                            <button class="btn-send" onclick="sendMessage()">Enviar</button>
                        </div>
                    </div>
                </div>

                <!-- Profile Tab -->
                <div id="profileTab" class="tab-content">
                    <div class="profile-section">
                        <h2>Perfil do Usuário</h2>
                        <div class="profile-info">
                            <p><strong>Nome:</strong> <span id="profileName">Usuário</span></p>
                        </div>
                        <div class="profile-info">
                            <p><strong>Email:</strong> <span id="profileEmail">usuario@email.com</span></p>
                        </div>
                        <div class="profile-info">
                            <p><strong>Peso atual:</strong> 82.5 kg</p>
                        </div>
                        <div class="profile-info">
                            <p><strong>Faixa:</strong> Azul</p>
                        </div>
                        <button class="btn-danger" onclick="logout()">Sair</button>
                    </div>
                </div>
            </div>

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <button class="nav-btn active" onclick="showTab('homeTab', this)">
                    <div class="nav-icon">🏠</div>
                    <span>Home</span>
                </button>
                <button class="nav-btn" onclick="showTab('addTab', this)">
                    <div class="nav-icon">➕</div>
                    <span>Adicionar</span>
                </button>
                <button class="nav-btn" onclick="showTab('chatTab', this)">
                    <div class="nav-icon">🤖</div>
                    <span>AI Coach</span>
                </button>
                <button class="nav-btn" onclick="showTab('profileTab', this)">
                    <div class="nav-icon">👤</div>
                    <span>Perfil</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        let isRegisterMode = false;
        let currentUser = null;

        // Initialize app when page loads
        window.addEventListener('load', function() {
            // Check if user is already logged in
            const savedUser = localStorage.getItem('bjj_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showDashboard();
            } else {
                document.getElementById('loginScreen').style.display = 'flex';
                document.getElementById('dashboard').style.display = 'none';
            }

            // Setup event listeners
            setupEventListeners();
        });

        function setupEventListeners() {
            // Toggle between login and register
            document.getElementById('toggleBtn').onclick = function() {
                isRegisterMode = !isRegisterMode;
                
                const nameGroup = document.getElementById('nameGroup');
                const loginTitle = document.getElementById('loginTitle');
                const loginSubtitle = document.getElementById('loginSubtitle');
                const submitBtn = document.getElementById('submitBtn');
                const toggleBtn = document.getElementById('toggleBtn');
                
                if (isRegisterMode) {
                    nameGroup.classList.remove('hidden');
                    loginTitle.textContent = 'Criar Conta';
                    loginSubtitle.textContent = 'Junte-se ao BJJ Prep';
                    submitBtn.textContent = 'Criar Conta';
                    toggleBtn.textContent = 'Já tem conta? Fazer login';
                } else {
                    nameGroup.classList.add('hidden');
                    loginTitle.textContent = 'Entrar';
                    loginSubtitle.textContent = 'Acesse sua conta BJJ Prep';
                    submitBtn.textContent = 'Entrar';
                    toggleBtn.textContent = 'Não tem conta? Criar uma agora';
                }
            };

            // Handle form submission
            document.getElementById('loginForm').onsubmit = function(e) {
                e.preventDefault();
                
                const name = document.getElementById('nameInput').value || 'Usuário';
                const email = document.getElementById('emailInput').value;
                const password = document.getElementById('passwordInput').value;
                
                if (!email || !password) {
                    alert('Por favor, preencha todos os campos obrigatórios.');
                    return;
                }
                
                if (password.length < 6) {
                    alert('A senha deve ter pelo menos 6 caracteres.');
                    return;
                }
                
                currentUser = {
                    id: Date.now(),
                    name: name,
                    email: email,
                    weight: 82.5,
                    belt: 'Azul'
                };
                
                localStorage.setItem('bjj_user', JSON.stringify(currentUser));
                showDashboard();
            };
        }

        function showDashboard() {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('dashboard').style.display = 'flex';
            document.getElementById('dashboard').classList.add('active');
            
            // Update user info
            const firstName = currentUser.name.split(' ')[0];
            document.getElementById('userName').textContent = firstName;
            document.getElementById('profileName').textContent = currentUser.name;
            document.getElementById('profileEmail').textContent = currentUser.email;
            
            // Show home tab by default
            showTab('homeTab');
        }

        function showTab(tabId, buttonElement) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            
            // Update navigation buttons
            if (buttonElement) {
                const navBtns = document.querySelectorAll('.nav-btn');
                navBtns.forEach(btn => btn.classList.remove('active'));
                buttonElement.classList.add('active');
            }
        }

        function logout() {
            localStorage.removeItem('bjj_user');
            currentUser = null;
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('dashboard').classList.remove('active');
            
            // Reset form
            document.getElementById('loginForm').reset();
            
            // Reset to login mode
            if (isRegisterMode) {
                document.getElementById('toggleBtn').click();
            }
        }

        // AI Coach functionality
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage(message, true);
            input.value = '';
            
            // Generate AI response
            setTimeout(() => {
                const response = generateAIResponse(message);
                addMessage(response, false);
            }, 1000);
        }

        function addMessage(text, isUser) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message' + (isUser ? ' user' : '');
            
            messageDiv.innerHTML = `
                <div class="message-content">${text}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function generateAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('treino') || lowerMessage.includes('treinar')) {
                return 'Para treinos eficazes: 1) Aquecimento de 10-15 min, 2) Técnica por 30 min, 3) Sparring por 20-30 min, 4) Alongamento final. Mantenha consistência de 3-4x por semana.';
            } else if (lowerMessage.includes('dieta') || lowerMessage.includes('alimentação')) {
                return 'Para competições: 1) Mantenha hidratação adequada, 2) Carboidratos complexos 2-3h antes, 3) Evite alimentos pesados no dia, 4) Suplementação com BCAA se necessário. Consulte um nutricionista esportivo.';
            } else if (lowerMessage.includes('peso') || lowerMessage.includes('cortar')) {
                return 'Corte de peso seguro: 1) Planeje com 4-6 semanas de antecedência, 2) Reduza 0.5-1kg por semana, 3) Mantenha hidratação, 4) Evite cortes drásticos. Sua saúde vem primeiro!';
            } else if (lowerMessage.includes('competição') || lowerMessage.includes('campeonato')) {
                return 'Preparação mental: 1) Visualize suas técnicas, 2) Pratique respiração profunda, 3) Chegue cedo no local, 4) Tenha um plano de jogo. Confie no seu treino!';
            } else {
                return 'Ótima pergunta! Como especialista em jiu-jitsu, recomendo focar em: técnica consistente, condicionamento físico adequado e mentalidade positiva. Tem alguma área específica que gostaria de melhorar?';
            }
        }

        function handleEnter(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Competition analysis functionality
        function analyzeCompetition() {
            const url = document.getElementById('competitionUrl').value.trim();
            const resultDiv = document.getElementById('competitionResult');
            
            if (!url) {
                alert('Por favor, insira o link da competição.');
                return;
            }
            
            if (!url.includes('cbjj.com') && !url.includes('ibjjf.com')) {
                alert('Por favor, insira um link válido da CBJJ ou IBJJF.');
                return;
            }
            
            // Show loading
            resultDiv.innerHTML = '<p>Analisando competição...</p>';
            
            // Simulate analysis
            setTimeout(() => {
                let competitionData;
                
                // Check for specific European IBJJF 2026 link
                if (url.includes('european-ibjjf-jiu-jitsu-championship-2026')) {
                    competitionData = {
                        name: 'European IBJJF Jiu-Jitsu Championship 2026',
                        date: '15 a 24 de Janeiro, 2026',
                        location: 'Pavilhão Multiusos de Odivelas, Lisboa, Portugal',
                        price: '$136.00 (USD)',
                        deadline: 'Até 4 de Janeiro, 2026',
                        daysLeft: 488
                    };
                } else if (url.includes('ibjjf.com')) {
                    competitionData = {
                        name: 'IBJJF World Championship 2024',
                        date: '30 de Maio a 2 de Junho, 2024',
                        location: 'Long Beach, Califórnia, EUA',
                        price: '$150.00 (USD)',
                        deadline: 'Até 15 de Maio, 2024',
                        daysLeft: 180
                    };
                } else {
                    competitionData = {
                        name: 'Campeonato Brasileiro CBJJ 2024',
                        date: '15 de Dezembro, 2024',
                        location: 'Ginásio do Ibirapuera, São Paulo',
                        price: 'R$ 120,00',
                        deadline: 'Até 30 de Novembro, 2024',
                        daysLeft: 45
                    };
                }
                
                resultDiv.innerHTML = `
                    <div class="result-card">
                        <h3>🏆 ${competitionData.name}</h3>
                        <p><strong>📅 Data:</strong> ${competitionData.date}</p>
                        <p><strong>📍 Local:</strong> ${competitionData.location}</p>
                        <p><strong>💰 Inscrições:</strong> ${competitionData.price}</p>
                        <p><strong>⏰ Prazo:</strong> ${competitionData.deadline}</p>
                        <hr style="margin: 15px 0; border: 1px solid rgba(255,255,255,0.3);">
                        <h4>📈 Plano de Preparação</h4>
                        <p><strong>🎯 Tempo restante:</strong> ${competitionData.daysLeft} dias</p>
                        <p><strong>⚖️ Categoria sugerida:</strong> Meio-Pesado (82.3kg)</p>
                        <p><strong>🏃‍♂️ Treinos recomendados:</strong> 4x por semana</p>
                        <p><strong>📉 Meta de peso:</strong> Manter atual (82.5kg)</p>
                        <button onclick="closeResult()" style="background: rgba(255,255,255,0.2); border: 1px solid white; color: white; padding: 8px 16px; border-radius: 5px; margin-top: 10px; cursor: pointer;">Fechar</button>
                    </div>
                `;
                
                // Clear the input
                document.getElementById('competitionUrl').value = '';
            }, 2000);
        }

        function closeResult() {
            document.getElementById('competitionResult').innerHTML = '';
        }
    </script>
</body>
</html>

