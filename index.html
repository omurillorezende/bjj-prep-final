<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BJJ Prep - Prepara√ß√£o para Competi√ß√µes</title>
    <meta name="description" content="Aplicativo para prepara√ß√£o de competi√ß√µes de jiu-jitsu brasileiro">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .app {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Login Screen */
        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .logo {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .login-header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            color: #333;
        }

        .login-header p {
            color: #666;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn-primary {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-bottom: 20px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
        }

        .btn-link {
            background: none;
            border: none;
            color: #667eea;
            cursor: pointer;
            text-decoration: underline;
            font-size: 14px;
        }

        .hidden {
            display: none !important;
        }

        /* Dashboard */
        .dashboard {
            display: none;
            flex: 1;
            background: #f8fafc;
        }

        .dashboard.active {
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .welcome-text {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .subtitle {
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .competition-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .no-competition {
            text-align: center;
            padding: 20px;
        }

        .no-competition p {
            margin: 10px 0;
            opacity: 0.9;
        }

        .btn-secondary {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-1px);
        }

        .competition-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .competition-card h4 {
            font-size: 16px;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .competition-card p {
            margin-bottom: 5px;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 14px;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .action-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .action-card:hover {
            transform: translateY(-2px);
        }

        .action-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .tips-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .tips-section h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .tip-item {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .tip-item:last-child {
            border-bottom: none;
        }

        /* Add Competition */
        .form-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .form-section h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
        }

        .btn-analyze {
            background: linear-gradient(135deg, #10ac84 0%, #00d2d3 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
        }

        .result-card {
            background: linear-gradient(135deg, #10ac84 0%, #00d2d3 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }

        /* AI Chat */
        .chat-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            height: 500px;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            text-align: center;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 15px;
            background: #f1f3f4;
        }

        .message.user .message-content {
            background: #667eea;
            color: white;
        }

        .chat-input {
            padding: 20px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 25px;
            outline: none;
        }

        .btn-send {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
        }

        /* Profile */
        .profile-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .profile-info {
            margin-bottom: 15px;
        }

        .profile-info strong {
            color: #333;
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
        }

        /* Bottom Navigation */
        .bottom-nav {
            background: white;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-around;
        }

        .nav-btn {
            background: none;
            border: none;
            padding: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #666;
            font-size: 12px;
        }

        .nav-btn.active {
            color: #667eea;
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        /* Community Styles */
        .community-section {
            padding: 20px;
        }

        .community-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.9;
        }

        .community-feed {
            margin-bottom: 30px;
        }

        .feed-post {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .post-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 12px;
        }

        .post-info {
            flex: 1;
        }

        .post-author {
            font-weight: bold;
            margin-bottom: 2px;
        }

        .post-time {
            font-size: 12px;
            color: #666;
        }

        .post-content {
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .post-actions {
            display: flex;
            gap: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .post-action {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #666;
            font-size: 14px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .post-action:hover {
            color: #3B82F6;
        }

        .ranking-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .ranking-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .ranking-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            transition: transform 0.2s;
        }

        .ranking-item:hover {
            transform: translateY(-2px);
        }

        .ranking-item.current-user {
            background: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
            color: white;
        }

        .rank-position {
            font-weight: bold;
            font-size: 18px;
            margin-right: 15px;
            min-width: 30px;
        }

        .rank-avatar {
            font-size: 24px;
            margin-right: 15px;
        }

        .rank-info {
            flex: 1;
        }

        .rank-name {
            font-weight: bold;
            margin-bottom: 2px;
        }

        .rank-details {
            font-size: 12px;
            opacity: 0.7;
        }

        .rank-points {
            font-weight: bold;
            font-size: 16px;
        }

        /* Analytics Styles */
        .analytics-section {
            padding: 20px;
        }

        .performance-overview {
            margin-bottom: 30px;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .overview-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.2s;
        }

        .overview-card:hover {
            transform: translateY(-5px);
        }

        .card-icon {
            font-size: 32px;
            margin-bottom: 15px;
        }

        .card-number {
            font-size: 28px;
            font-weight: bold;
            color: #3B82F6;
            margin-bottom: 8px;
        }

        .card-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .card-trend {
            font-size: 12px;
            color: #10B981;
            font-weight: 500;
        }

        .performance-charts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .chart-container h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .weight-chart {
            height: 200px;
            position: relative;
        }

        .chart-area {
            height: 100%;
            position: relative;
            border-left: 2px solid #e5e7eb;
            border-bottom: 2px solid #e5e7eb;
        }

        .chart-line {
            position: relative;
            height: 100%;
        }

        .chart-point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #3B82F6;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .chart-point:hover {
            transform: scale(1.3);
        }

        .chart-point.current {
            background: #EF4444;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .chart-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }

        .training-chart {
            height: 200px;
        }

        .training-bars {
            display: flex;
            align-items: end;
            justify-content: space-between;
            height: 150px;
            gap: 10px;
        }

        .training-bar {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .bar-fill {
            width: 100%;
            background: linear-gradient(to top, #3B82F6, #60A5FA);
            border-radius: 4px 4px 0 0;
            transition: height 0.5s ease;
            position: relative;
        }

        .bar-label {
            font-size: 12px;
            color: #666;
            margin-top: 8px;
        }

        .bar-value {
            position: absolute;
            top: -25px;
            font-size: 11px;
            font-weight: bold;
            color: #333;
        }

        .competition-history {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .competitions-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .competition-item {
            display: flex;
            align-items: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            transition: transform 0.2s;
        }

        .competition-item:hover {
            transform: translateY(-2px);
        }

        .competition-item.gold {
            background: linear-gradient(135deg, #FCD34D, #F59E0B);
            color: white;
        }

        .competition-item.silver {
            background: linear-gradient(135deg, #E5E7EB, #9CA3AF);
            color: #374151;
        }

        .competition-item.bronze {
            background: linear-gradient(135deg, #D97706, #92400E);
            color: white;
        }

        .competition-medal {
            font-size: 32px;
            margin-right: 20px;
        }

        .competition-info {
            flex: 1;
        }

        .competition-name {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .competition-details {
            font-size: 14px;
            opacity: 0.8;
        }

        .competition-result {
            font-weight: bold;
            font-size: 16px;
        }

        .performance-insights {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .insights-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .insight-item {
            display: flex;
            align-items: flex-start;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid;
        }

        .insight-item.positive {
            background: #F0FDF4;
            border-left-color: #10B981;
        }

        .insight-item.warning {
            background: #FFFBEB;
            border-left-color: #F59E0B;
        }

        .insight-icon {
            font-size: 24px;
            margin-right: 15px;
            margin-top: 2px;
        }

        .insight-content {
            flex: 1;
        }

        .insight-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }

        .insight-description {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        .analytics-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .content {
                padding: 15px;
            }
            
            .login-card {
                padding: 30px 20px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
            }
            
            .overview-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .performance-charts {
                grid-template-columns: 1fr;
            }
            
            .analytics-actions {
                flex-direction: column;
            }
            
            .community-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Training Styles */
        .training-section {
            padding: 20px;
        }

        .training-overview {
            margin-bottom: 30px;
        }

        .plan-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .plan-card h3 {
            margin-bottom: 15px;
            font-size: 18px;
        }

        .plan-info p {
            margin: 8px 0;
            opacity: 0.9;
        }

        .weekly-schedule {
            margin-bottom: 30px;
        }

        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .day-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid #e0e0e0;
            transition: transform 0.2s;
        }

        .day-card:hover {
            transform: translateY(-2px);
        }

        .day-card.completed {
            border-left-color: #4CAF50;
            background: #f8fff8;
        }

        .day-card.today {
            border-left-color: #2196F3;
            background: #f0f8ff;
        }

        .day-card.rest {
            border-left-color: #FF9800;
            background: #fff8f0;
        }

        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .day-name {
            font-weight: bold;
            color: #333;
        }

        .day-status {
            font-size: 16px;
        }

        .training-type {
            color: #666;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .training-duration {
            color: #999;
            font-size: 12px;
        }

        .training-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .training-stats h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }

        .stat-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 12px;
        }

        /* Weight Styles */
        .weight-section {
            padding: 20px;
        }

        .current-weight {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(17, 153, 142, 0.3);
        }

        .weight-display {
            display: flex;
            justify-content: center;
            align-items: baseline;
            margin-bottom: 15px;
        }

        .weight-number {
            font-size: 48px;
            font-weight: bold;
            margin-right: 8px;
        }

        .weight-unit {
            font-size: 24px;
            opacity: 0.8;
        }

        .weight-info p {
            margin: 5px 0;
            opacity: 0.9;
        }

        .weight-progress {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .progress-chart {
            margin-top: 20px;
        }

        .chart-placeholder {
            height: 200px;
            background: #f8f9fa;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .chart-line {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .chart-point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #667eea;
            border-radius: 50%;
            transform: translate(-50%, 50%);
        }

        .chart-point.current {
            background: #2196F3;
            width: 16px;
            height: 16px;
            box-shadow: 0 0 0 4px rgba(33, 150, 243, 0.3);
        }

        .chart-point.target {
            background: #4CAF50;
            border: 2px solid white;
        }

        .chart-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }

        .weight-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .weight-history {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .history-list {
            margin-top: 15px;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .date {
            color: #666;
            font-size: 14px;
        }

        .weight {
            font-weight: bold;
            color: #333;
        }

        .trend {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 12px;
        }

        .trend.up {
            background: #ffebee;
            color: #f44336;
        }

        .trend.down {
            background: #e8f5e8;
            color: #4caf50;
        }

        /* Nutrition Styles */
        .nutrition-section {
            padding: 20px;
        }

        .daily-nutrition {
            margin-bottom: 30px;
        }

        .nutrition-card {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .nutrition-card h3 {
            margin-bottom: 20px;
            font-size: 18px;
        }

        .calories-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 20px;
            text-align: center;
        }

        .calories-consumed .number,
        .calories-remaining .number,
        .calories-goal .number {
            display: block;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .calories-consumed .label,
        .calories-remaining .label,
        .calories-goal .label {
            font-size: 12px;
            opacity: 0.9;
        }

        .macros-section {
            margin-bottom: 30px;
        }

        .macros-section h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .macros-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .macro-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .macro-icon {
            font-size: 32px;
        }

        .macro-info {
            flex: 1;
        }

        .macro-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .macro-values {
            color: #666;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .macro-bar {
            background: #f0f0f0;
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }

        .macro-progress {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .macro-card.protein .macro-progress {
            background: #e74c3c;
        }

        .macro-card.carbs .macro-progress {
            background: #f39c12;
        }

        .macro-card.fats .macro-progress {
            background: #27ae60;
        }

        .meal-plan {
            margin-bottom: 30px;
        }

        .meal-plan h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .meals-list {
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .meal-item {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
            transition: background-color 0.2s;
        }

        .meal-item:last-child {
            border-bottom: none;
        }

        .meal-item:hover {
            background: #f8f9fa;
        }

        .meal-item.completed {
            background: #f8fff8;
        }

        .meal-time {
            min-width: 120px;
            margin-right: 20px;
        }

        .time {
            display: block;
            font-weight: bold;
            color: #333;
            font-size: 16px;
        }

        .meal-name {
            display: block;
            color: #666;
            font-size: 12px;
            margin-top: 2px;
        }

        .meal-content {
            flex: 1;
        }

        .meal-content p {
            margin: 0 0 5px 0;
            color: #333;
            font-size: 14px;
        }

        .calories {
            color: #666;
            font-size: 12px;
        }

        .meal-status {
            font-size: 20px;
            margin-left: 15px;
        }

        .nutrition-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Login Screen -->
        <div id="loginScreen" class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <div class="logo">ü•ã</div>
                    <h1 id="loginTitle">Entrar</h1>
                    <p id="loginSubtitle">Acesse sua conta BJJ Prep</p>
                </div>

                <form id="loginForm">
                    <div id="nameGroup" class="form-group hidden">
                        <label>Nome Completo</label>
                        <input type="text" id="nameInput" placeholder="Jo√£o Silva">
                    </div>

                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="emailInput" placeholder="seu@email.com" required>
                    </div>

                    <div class="form-group">
                        <label>Senha</label>
                        <input type="password" id="passwordInput" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>

                    <button type="submit" class="btn-primary" id="submitBtn">Entrar</button>
                </form>

                <button type="button" class="btn-link" id="toggleBtn">
                    N√£o tem conta? Criar uma agora
                </button>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="dashboard">
            <div class="header">
                <h1 class="welcome-text">Ol√°, <span id="userName">Atleta</span>! üëã</h1>
                <p class="subtitle">Bem-vindo ao BJJ Prep</p>
            </div>

            <div class="content">
                <!-- Home Tab -->
                <div id="homeTab" class="tab-content active">
                    <div class="competition-card" id="nextCompetitionCard">
                        <h3>üèÜ Pr√≥xima Competi√ß√£o</h3>
                        <div id="competitionInfo">
                            <div class="no-competition">
                                <p>üìã Nenhuma competi√ß√£o definida</p>
                                <p>Adicione uma competi√ß√£o na aba "Adicionar" e defina como pr√≥xima!</p>
                                <button onclick="showTab('addTab')" class="btn-secondary">Adicionar Competi√ß√£o</button>
                            </div>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">82.5kg</div>
                            <div class="stat-label">Peso atual</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">12</div>
                            <div class="stat-label">Dias de treino</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">3</div>
                            <div class="stat-label">Competi√ß√µes 2024</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">Amanh√£</div>
                            <div class="stat-label">Pr√≥ximo treino</div>
                        </div>
                    </div>

                    <div class="actions-grid">
                        <div class="action-card" onclick="showTab('addTab')">
                            <div class="action-icon">üèÜ</div>
                            <h4>Adicionar Competi√ß√£o</h4>
                            <p>Cole o link da competi√ß√£o</p>
                        </div>
                        <div class="action-card" onclick="showTab('chatTab')">
                            <div class="action-icon">ü§ñ</div>
                            <h4>Conversar com AI</h4>
                            <p>Dicas personalizadas</p>
                        </div>
                    </div>

                    <div class="tips-section">
                        <h3>üí° Dicas do AI Coach</h3>
                        <div class="tip-item">
                            üíß Mantenha-se hidratado! Beba pelo menos 35ml por kg de peso corporal diariamente.
                        </div>
                        <div class="tip-item">
                            ü•ã Pratique escapes de posi√ß√µes ruins - isso pode salvar sua competi√ß√£o!
                        </div>
                    </div>
                </div>

                <!-- Add Competition Tab -->
                <div id="addTab" class="tab-content">
                    <div class="form-section">
                        <h2>Adicionar Competi√ß√£o</h2>
                        <div class="input-group">
                            <input type="url" id="competitionUrl" placeholder="Cole o link da competi√ß√£o CBJJ/IBJJF aqui...">
                        </div>
                        <button class="btn-analyze" onclick="analyzeCompetition()">Analisar Competi√ß√£o</button>
                        <div id="competitionResult"></div>
                    </div>
                </div>

                <!-- AI Chat Tab -->
                <div id="chatTab" class="tab-content">
                    <div class="chat-container">
                        <div class="chat-header">
                            <h3>ü§ñ AI Coach</h3>
                            <p>Especialista em jiu-jitsu brasileiro</p>
                        </div>
                        <div class="chat-messages" id="chatMessages">
                            <div class="message">
                                <div class="message-content">
                                    Ol√°! Sou seu AI Coach especializado em jiu-jitsu. Como posso ajudar voc√™ hoje?
                                </div>
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="messageInput" placeholder="Digite sua pergunta..." onkeypress="handleEnter(event)">
                            <button class="btn-send" onclick="sendMessage()">Enviar</button>
                        </div>
                    </div>
                </div>

                <!-- Profile Tab -->
                <div id="profileTab" class="tab-content">
                    <div class="profile-section">
                        <h2>Perfil do Usu√°rio</h2>
                        <div class="profile-info">
                            <p><strong>Nome:</strong> <span id="profileName">Usu√°rio</span></p>
                        </div>
                        <div class="profile-info">
                            <p><strong>Email:</strong> <span id="profileEmail">usuario@email.com</span></p>
                        </div>
                        <div class="profile-info">
                            <p><strong>Peso atual:</strong> 82.5 kg</p>
                        </div>
                        <div class="profile-info">
                            <p><strong>Faixa:</strong> Azul</p>
                        </div>
                        <button class="btn-danger" onclick="logout()">Sair</button>
                    </div>
                </div>

                <!-- Training Tab -->
                <div id="trainingTab" class="tab-content">
                    <div class="training-section">
                        <h2>üèãÔ∏è Sistema de Treinos</h2>
                        
                        <!-- Training Plan Overview -->
                        <div class="training-overview">
                            <div class="plan-card">
                                <h3>üìã Plano Atual</h3>
                                <div class="plan-info">
                                    <p><strong>Objetivo:</strong> Prepara√ß√£o para Campeonato Brasileiro CBJJ 2024</p>
                                    <p><strong>Tempo restante:</strong> 45 dias</p>
                                    <p><strong>Fase:</strong> Prepara√ß√£o Intensiva</p>
                                    <p><strong>Frequ√™ncia:</strong> 5x por semana</p>
                                </div>
                            </div>
                        </div>

                        <!-- Weekly Schedule -->
                        <div class="weekly-schedule">
                            <h3>üìÖ Cronograma Semanal</h3>
                            <div class="schedule-grid">
                                <div class="day-card completed">
                                    <div class="day-header">
                                        <span class="day-name">Segunda</span>
                                        <span class="day-status">‚úÖ</span>
                                    </div>
                                    <div class="training-type">T√©cnico + Sparring</div>
                                    <div class="training-duration">2h</div>
                                </div>
                                <div class="day-card completed">
                                    <div class="day-header">
                                        <span class="day-name">Ter√ßa</span>
                                        <span class="day-status">‚úÖ</span>
                                    </div>
                                    <div class="training-type">Cardio + Drilling</div>
                                    <div class="training-duration">1h30</div>
                                </div>
                                <div class="day-card today">
                                    <div class="day-header">
                                        <span class="day-name">Quarta</span>
                                        <span class="day-status">üìç</span>
                                    </div>
                                    <div class="training-type">T√©cnico Avan√ßado</div>
                                    <div class="training-duration">2h</div>
                                </div>
                                <div class="day-card">
                                    <div class="day-header">
                                        <span class="day-name">Quinta</span>
                                        <span class="day-status">‚è≥</span>
                                    </div>
                                    <div class="training-type">Sparring Pesado</div>
                                    <div class="training-duration">2h</div>
                                </div>
                                <div class="day-card">
                                    <div class="day-header">
                                        <span class="day-name">Sexta</span>
                                        <span class="day-status">‚è≥</span>
                                    </div>
                                    <div class="training-type">T√©cnico + Cardio</div>
                                    <div class="training-duration">1h45</div>
                                </div>
                                <div class="day-card rest">
                                    <div class="day-header">
                                        <span class="day-name">S√°bado</span>
                                        <span class="day-status">üò¥</span>
                                    </div>
                                    <div class="training-type">Descanso Ativo</div>
                                    <div class="training-duration">Opcional</div>
                                </div>
                                <div class="day-card rest">
                                    <div class="day-header">
                                        <span class="day-name">Domingo</span>
                                        <span class="day-status">üò¥</span>
                                    </div>
                                    <div class="training-type">Descanso</div>
                                    <div class="training-duration">-</div>
                                </div>
                            </div>
                        </div>

                        <!-- Training Actions -->
                        <div class="training-actions">
                            <button class="btn-primary" onclick="markTrainingComplete()">‚úÖ Marcar Treino Conclu√≠do</button>
                            <button class="btn-secondary" onclick="adjustTrainingPlan()">‚öôÔ∏è Ajustar Plano</button>
                        </div>

                        <!-- Training Stats -->
                        <div class="training-stats">
                            <h3>üìä Estat√≠sticas</h3>
                            <div class="stats-row">
                                <div class="stat-item">
                                    <div class="stat-number">12</div>
                                    <div class="stat-label">Treinos esta semana</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">85%</div>
                                    <div class="stat-label">Taxa de conclus√£o</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">24h</div>
                                    <div class="stat-label">Total de horas</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weight Tab -->
                <div id="weightTab" class="tab-content">
                    <div class="weight-section">
                        <h2>‚öñÔ∏è Controle de Peso</h2>
                        
                        <!-- Current Weight -->
                        <div class="current-weight">
                            <div class="weight-display">
                                <div class="weight-number">82.5</div>
                                <div class="weight-unit">kg</div>
                            </div>
                            <div class="weight-info">
                                <p>√öltima pesagem: Hoje, 07:30</p>
                                <p>Meta: 82.3kg (Meio-Pesado)</p>
                            </div>
                        </div>

                        <!-- Weight Progress -->
                        <div class="weight-progress">
                            <h3>üìà Evolu√ß√£o do Peso</h3>
                            <div class="progress-chart">
                                <div class="chart-placeholder">
                                    <div class="chart-line">
                                        <div class="chart-point" style="left: 10%; bottom: 60%"></div>
                                        <div class="chart-point" style="left: 25%; bottom: 55%"></div>
                                        <div class="chart-point" style="left: 40%; bottom: 50%"></div>
                                        <div class="chart-point current" style="left: 55%; bottom: 48%"></div>
                                        <div class="chart-point target" style="left: 70%; bottom: 45%"></div>
                                        <div class="chart-point target" style="left: 85%; bottom: 45%"></div>
                                    </div>
                                </div>
                                <div class="chart-labels">
                                    <span>30 dias atr√°s</span>
                                    <span>Hoje</span>
                                    <span>Meta</span>
                                </div>
                            </div>
                        </div>

                        <!-- Weight Actions -->
                        <div class="weight-actions">
                            <button class="btn-primary" onclick="addWeightEntry()">üìù Registrar Peso</button>
                            <button class="btn-secondary" onclick="setWeightGoal()">üéØ Definir Meta</button>
                        </div>

                        <!-- Weight History -->
                        <div class="weight-history">
                            <h3>üìã Hist√≥rico</h3>
                            <div class="history-list">
                                <div class="history-item">
                                    <span class="date">16/09/2024</span>
                                    <span class="weight">82.5kg</span>
                                    <span class="trend up">+0.2kg</span>
                                </div>
                                <div class="history-item">
                                    <span class="date">15/09/2024</span>
                                    <span class="weight">82.3kg</span>
                                    <span class="trend down">-0.1kg</span>
                                </div>
                                <div class="history-item">
                                    <span class="date">14/09/2024</span>
                                    <span class="weight">82.4kg</span>
                                    <span class="trend down">-0.3kg</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Nutrition Tab -->
                <div id="nutritionTab" class="tab-content">
                    <div class="nutrition-section">
                        <h2>üçΩÔ∏è Plano Nutricional</h2>
                        
                        <!-- Daily Overview -->
                        <div class="daily-nutrition">
                            <div class="nutrition-card">
                                <h3>üìä Resumo Di√°rio</h3>
                                <div class="calories-display">
                                    <div class="calories-consumed">
                                        <span class="number">1,847</span>
                                        <span class="label">Consumidas</span>
                                    </div>
                                    <div class="calories-remaining">
                                        <span class="number">653</span>
                                        <span class="label">Restantes</span>
                                    </div>
                                    <div class="calories-goal">
                                        <span class="number">2,500</span>
                                        <span class="label">Meta Di√°ria</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Macros -->
                        <div class="macros-section">
                            <h3>ü•ó Macronutrientes</h3>
                            <div class="macros-grid">
                                <div class="macro-card protein">
                                    <div class="macro-icon">ü•©</div>
                                    <div class="macro-info">
                                        <div class="macro-name">Prote√≠nas</div>
                                        <div class="macro-values">142g / 150g</div>
                                        <div class="macro-bar">
                                            <div class="macro-progress" style="width: 95%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="macro-card carbs">
                                    <div class="macro-icon">üçû</div>
                                    <div class="macro-info">
                                        <div class="macro-name">Carboidratos</div>
                                        <div class="macro-values">187g / 250g</div>
                                        <div class="macro-bar">
                                            <div class="macro-progress" style="width: 75%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="macro-card fats">
                                    <div class="macro-icon">ü•ë</div>
                                    <div class="macro-info">
                                        <div class="macro-name">Gorduras</div>
                                        <div class="macro-values">67g / 83g</div>
                                        <div class="macro-bar">
                                            <div class="macro-progress" style="width: 81%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Meal Plan -->
                        <div class="meal-plan">
                            <h3>üç¥ Card√°pio de Hoje</h3>
                            <div class="meals-list">
                                <div class="meal-item completed">
                                    <div class="meal-time">
                                        <span class="time">07:00</span>
                                        <span class="meal-name">Caf√© da Manh√£</span>
                                    </div>
                                    <div class="meal-content">
                                        <p>2 ovos mexidos + 1 fatia de p√£o integral + 1 banana</p>
                                        <span class="calories">420 kcal</span>
                                    </div>
                                    <div class="meal-status">‚úÖ</div>
                                </div>
                                <div class="meal-item completed">
                                    <div class="meal-time">
                                        <span class="time">10:00</span>
                                        <span class="meal-name">Lanche</span>
                                    </div>
                                    <div class="meal-content">
                                        <p>Whey protein + 1 ma√ß√£</p>
                                        <span class="calories">180 kcal</span>
                                    </div>
                                    <div class="meal-status">‚úÖ</div>
                                </div>
                                <div class="meal-item completed">
                                    <div class="meal-time">
                                        <span class="time">13:00</span>
                                        <span class="meal-name">Almo√ßo</span>
                                    </div>
                                    <div class="meal-content">
                                        <p>150g frango grelhado + arroz integral + br√≥colis</p>
                                        <span class="calories">650 kcal</span>
                                    </div>
                                    <div class="meal-status">‚úÖ</div>
                                </div>
                                <div class="meal-item">
                                    <div class="meal-time">
                                        <span class="time">16:00</span>
                                        <span class="meal-name">Pr√©-Treino</span>
                                    </div>
                                    <div class="meal-content">
                                        <p>1 banana + aveia + mel</p>
                                        <span class="calories">280 kcal</span>
                                    </div>
                                    <div class="meal-status">‚è≥</div>
                                </div>
                                <div class="meal-item">
                                    <div class="meal-time">
                                        <span class="time">19:30</span>
                                        <span class="meal-name">P√≥s-Treino</span>
                                    </div>
                                    <div class="meal-content">
                                        <p>Whey protein + √°gua de coco</p>
                                        <span class="calories">150 kcal</span>
                                    </div>
                                    <div class="meal-status">‚è≥</div>
                                </div>
                                <div class="meal-item">
                                    <div class="meal-time">
                                        <span class="time">21:00</span>
                                        <span class="meal-name">Jantar</span>
                                    </div>
                                    <div class="meal-content">
                                        <p>Salm√£o grelhado + batata doce + salada</p>
                                        <span class="calories">520 kcal</span>
                                    </div>
                                    <div class="meal-status">‚è≥</div>
                                </div>
                            </div>
                        </div>

                        <!-- Nutrition Actions -->
                        <div class="nutrition-actions">
                            <button class="btn-primary" onclick="logMeal()">üìù Registrar Refei√ß√£o</button>
                            <button class="btn-secondary" onclick="generateMealPlan()">üîÑ Gerar Novo Plano</button>
                            <button class="btn-secondary" onclick="showShoppingList()">üõí Lista de Compras</button>
                        </div>
                    </div>
                </div>

                <!-- Community Tab -->
                <div id="communityTab" class="tab-content">
                    <div class="community-section">
                        <h2>üë• Comunidade BJJ</h2>
                        
                        <!-- Community Stats -->
                        <div class="community-stats">
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-number">1,247</div>
                                    <div class="stat-label">Atletas Ativos</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number">89</div>
                                    <div class="stat-label">Academias</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number">156</div>
                                    <div class="stat-label">Competi√ß√µes</div>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="community-actions">
                            <button class="btn-primary" onclick="createPost()">‚úçÔ∏è Criar Post</button>
                            <button class="btn-secondary" onclick="findAthletes()">üîç Encontrar Atletas</button>
                        </div>

                        <!-- Feed -->
                        <div class="community-feed">
                            <h3>üì± Feed da Comunidade</h3>
                            
                            <div class="post-item">
                                <div class="post-header">
                                    <div class="user-avatar">ü•ã</div>
                                    <div class="user-info">
                                        <div class="user-name">Carlos Silva</div>
                                        <div class="user-details">Faixa Roxa ‚Ä¢ Gracie Barra SP ‚Ä¢ 2h atr√°s</div>
                                    </div>
                                </div>
                                <div class="post-content">
                                    <p>üèÜ Acabei de conquistar o ouro no Campeonato Paulista! 6 meses de prepara√ß√£o valeram a pena. Obrigado a todos que me apoiaram! üí™</p>
                                    <div class="post-image">üèÖ</div>
                                </div>
                                <div class="post-actions">
                                    <button class="action-btn" onclick="likePost(1)">‚ù§Ô∏è 47</button>
                                    <button class="action-btn" onclick="commentPost(1)">üí¨ 12</button>
                                    <button class="action-btn" onclick="sharePost(1)">üîÑ 5</button>
                                </div>
                            </div>

                            <div class="post-item">
                                <div class="post-header">
                                    <div class="user-avatar">ü•ä</div>
                                    <div class="user-info">
                                        <div class="user-name">Ana Costa</div>
                                        <div class="user-details">Faixa Azul ‚Ä¢ Alliance RJ ‚Ä¢ 5h atr√°s</div>
                                    </div>
                                </div>
                                <div class="post-content">
                                    <p>üí™ Treino pesado hoje! 2h de t√©cnica + 1h de sparring. Prepara√ß√£o para o Mundial est√° a todo vapor! Quem mais est√° se preparando?</p>
                                </div>
                                <div class="post-actions">
                                    <button class="action-btn" onclick="likePost(2)">‚ù§Ô∏è 23</button>
                                    <button class="action-btn" onclick="commentPost(2)">üí¨ 8</button>
                                    <button class="action-btn" onclick="sharePost(2)">üîÑ 2</button>
                                </div>
                            </div>

                            <div class="post-item">
                                <div class="post-header">
                                    <div class="user-avatar">üèãÔ∏è</div>
                                    <div class="user-info">
                                        <div class="user-name">Rafael Mendes</div>
                                        <div class="user-details">Faixa Preta ‚Ä¢ Atos JJ ‚Ä¢ 1 dia atr√°s</div>
                                    </div>
                                </div>
                                <div class="post-content">
                                    <p>üéØ Dica do dia: Foquem na consist√™ncia, n√£o na intensidade. √â melhor treinar 4x por semana com qualidade do que 7x sem foco. A prepara√ß√£o √© uma maratona, n√£o um sprint!</p>
                                </div>
                                <div class="post-actions">
                                    <button class="action-btn" onclick="likePost(3)">‚ù§Ô∏è 156</button>
                                    <button class="action-btn" onclick="commentPost(3)">üí¨ 34</button>
                                    <button class="action-btn" onclick="sharePost(3)">üîÑ 28</button>
                                </div>
                            </div>
                        </div>

                        <!-- Ranking -->
                        <div class="community-ranking">
                            <h3>üèÜ Ranking Semanal</h3>
                            <div class="ranking-list">
                                <div class="ranking-item">
                                    <div class="rank-position">1</div>
                                    <div class="rank-avatar">ü•á</div>
                                    <div class="rank-info">
                                        <div class="rank-name">Jo√£o Santos</div>
                                        <div class="rank-details">12 treinos ‚Ä¢ 3 competi√ß√µes</div>
                                    </div>
                                    <div class="rank-points">2,450 pts</div>
                                </div>
                                <div class="ranking-item">
                                    <div class="rank-position">2</div>
                                    <div class="rank-avatar">ü•à</div>
                                    <div class="rank-info">
                                        <div class="rank-name">Maria Oliveira</div>
                                        <div class="rank-details">10 treinos ‚Ä¢ 2 competi√ß√µes</div>
                                    </div>
                                    <div class="rank-points">2,180 pts</div>
                                </div>
                                <div class="ranking-item">
                                    <div class="rank-position">3</div>
                                    <div class="rank-avatar">ü•â</div>
                                    <div class="rank-info">
                                        <div class="rank-name">Pedro Lima</div>
                                        <div class="rank-details">11 treinos ‚Ä¢ 1 competi√ß√£o</div>
                                    </div>
                                    <div class="rank-points">1,950 pts</div>
                                </div>
                                <div class="ranking-item current-user">
                                    <div class="rank-position">8</div>
                                    <div class="rank-avatar">üë§</div>
                                    <div class="rank-info">
                                        <div class="rank-name">Voc√™</div>
                                        <div class="rank-details">8 treinos ‚Ä¢ 1 competi√ß√£o</div>
                                    </div>
                                    <div class="rank-points">1,420 pts</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div id="analyticsTab" class="tab-content">
                    <div class="analytics-section">
                        <h2>üìä An√°lise de Performance</h2>
                        
                        <!-- Performance Overview -->
                        <div class="performance-overview">
                            <div class="overview-grid">
                                <div class="overview-card">
                                    <div class="card-icon">üèÜ</div>
                                    <div class="card-content">
                                        <div class="card-number">85%</div>
                                        <div class="card-label">Taxa de Sucesso</div>
                                        <div class="card-trend">+12% vs m√™s anterior</div>
                                    </div>
                                </div>
                                <div class="overview-card">
                                    <div class="card-icon">üí™</div>
                                    <div class="card-content">
                                        <div class="card-number">24</div>
                                        <div class="card-label">Treinos/M√™s</div>
                                        <div class="card-trend">+3 vs meta</div>
                                    </div>
                                </div>
                                <div class="overview-card">
                                    <div class="card-icon">‚öñÔ∏è</div>
                                    <div class="card-content">
                                        <div class="card-number">-2.1kg</div>
                                        <div class="card-label">Evolu√ß√£o Peso</div>
                                        <div class="card-trend">Meta: -2.5kg</div>
                                    </div>
                                </div>
                                <div class="overview-card">
                                    <div class="card-icon">üéØ</div>
                                    <div class="card-content">
                                        <div class="card-number">92%</div>
                                        <div class="card-label">Ader√™ncia Dieta</div>
                                        <div class="card-trend">Excelente!</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Charts -->
                        <div class="performance-charts">
                            <div class="chart-container">
                                <h3>üìà Evolu√ß√£o do Peso (6 meses)</h3>
                                <div class="weight-chart">
                                    <div class="chart-area">
                                        <div class="chart-line">
                                            <div class="chart-point" style="left: 0%; bottom: 80%;" data-value="85.2kg"></div>
                                            <div class="chart-point" style="left: 20%; bottom: 75%;" data-value="84.8kg"></div>
                                            <div class="chart-point" style="left: 40%; bottom: 70%;" data-value="84.1kg"></div>
                                            <div class="chart-point" style="left: 60%; bottom: 65%;" data-value="83.5kg"></div>
                                            <div class="chart-point" style="left: 80%; bottom: 55%;" data-value="82.9kg"></div>
                                            <div class="chart-point current" style="left: 100%; bottom: 50%;" data-value="82.5kg"></div>
                                        </div>
                                        <div class="chart-labels">
                                            <span>Abr</span>
                                            <span>Mai</span>
                                            <span>Jun</span>
                                            <span>Jul</span>
                                            <span>Ago</span>
                                            <span>Set</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="chart-container">
                                <h3>üèãÔ∏è Frequ√™ncia de Treinos</h3>
                                <div class="training-chart">
                                    <div class="training-bars">
                                        <div class="training-bar">
                                            <div class="bar-fill" style="height: 80%"></div>
                                            <span class="bar-label">Seg</span>
                                            <span class="bar-value">2h</span>
                                        </div>
                                        <div class="training-bar">
                                            <div class="bar-fill" style="height: 60%"></div>
                                            <span class="bar-label">Ter</span>
                                            <span class="bar-value">1.5h</span>
                                        </div>
                                        <div class="training-bar">
                                            <div class="bar-fill" style="height: 100%"></div>
                                            <span class="bar-label">Qua</span>
                                            <span class="bar-value">2.5h</span>
                                        </div>
                                        <div class="training-bar">
                                            <div class="bar-fill" style="height: 70%"></div>
                                            <span class="bar-label">Qui</span>
                                            <span class="bar-value">1.8h</span>
                                        </div>
                                        <div class="training-bar">
                                            <div class="bar-fill" style="height: 90%"></div>
                                            <span class="bar-label">Sex</span>
                                            <span class="bar-value">2.2h</span>
                                        </div>
                                        <div class="training-bar">
                                            <div class="bar-fill" style="height: 50%"></div>
                                            <span class="bar-label">S√°b</span>
                                            <span class="bar-value">1.2h</span>
                                        </div>
                                        <div class="training-bar">
                                            <div class="bar-fill" style="height: 30%"></div>
                                            <span class="bar-label">Dom</span>
                                            <span class="bar-value">0.8h</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Competition History -->
                        <div class="competition-history">
                            <h3>üèÜ Hist√≥rico de Competi√ß√µes</h3>
                            <div class="competitions-list">
                                <div class="competition-item gold">
                                    <div class="competition-medal">ü•á</div>
                                    <div class="competition-info">
                                        <div class="competition-name">Campeonato Paulista 2024</div>
                                        <div class="competition-details">Meio-Pesado ‚Ä¢ Faixa Roxa ‚Ä¢ 15 de Agosto</div>
                                    </div>
                                    <div class="competition-result">1¬∫ Lugar</div>
                                </div>
                                <div class="competition-item silver">
                                    <div class="competition-medal">ü•à</div>
                                    <div class="competition-info">
                                        <div class="competition-name">Copa S√£o Paulo 2024</div>
                                        <div class="competition-details">Meio-Pesado ‚Ä¢ Faixa Roxa ‚Ä¢ 22 de Junho</div>
                                    </div>
                                    <div class="competition-result">2¬∫ Lugar</div>
                                </div>
                                <div class="competition-item bronze">
                                    <div class="competition-medal">ü•â</div>
                                    <div class="competition-info">
                                        <div class="competition-name">Brasileiro CBJJ 2024</div>
                                        <div class="competition-details">Meio-Pesado ‚Ä¢ Faixa Roxa ‚Ä¢ 10 de Maio</div>
                                    </div>
                                    <div class="competition-result">3¬∫ Lugar</div>
                                </div>
                                <div class="competition-item">
                                    <div class="competition-medal">üèÖ</div>
                                    <div class="competition-info">
                                        <div class="competition-name">Open de Jiu-Jitsu RJ</div>
                                        <div class="competition-details">Meio-Pesado ‚Ä¢ Faixa Roxa ‚Ä¢ 18 de Mar√ßo</div>
                                    </div>
                                    <div class="competition-result">Participa√ß√£o</div>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Insights -->
                        <div class="performance-insights">
                            <h3>üí° Insights de Performance</h3>
                            <div class="insights-list">
                                <div class="insight-item positive">
                                    <div class="insight-icon">üìà</div>
                                    <div class="insight-content">
                                        <div class="insight-title">Melhoria Consistente</div>
                                        <div class="insight-description">Sua frequ√™ncia de treinos aumentou 25% nos √∫ltimos 3 meses. Continue assim!</div>
                                    </div>
                                </div>
                                <div class="insight-item warning">
                                    <div class="insight-icon">‚ö†Ô∏è</div>
                                    <div class="insight-content">
                                        <div class="insight-title">Aten√ß√£o ao Peso</div>
                                        <div class="insight-description">Voc√™ est√° 0.2kg acima da meta. Considere ajustar a dieta nos pr√≥ximos dias.</div>
                                    </div>
                                </div>
                                <div class="insight-item positive">
                                    <div class="insight-icon">üéØ</div>
                                    <div class="insight-content">
                                        <div class="insight-title">Prepara√ß√£o Ideal</div>
                                        <div class="insight-description">Com base no seu hist√≥rico, voc√™ tem 87% de chance de medalha na pr√≥xima competi√ß√£o.</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Analytics Actions -->
                        <div class="analytics-actions">
                            <button class="btn-primary" onclick="generateReport()">üìÑ Gerar Relat√≥rio</button>
                            <button class="btn-secondary" onclick="exportData()">üìä Exportar Dados</button>
                            <button class="btn-secondary" onclick="compareAthletes()">üë• Comparar com Outros</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <button class="nav-btn active" onclick="showTab('homeTab', this)">
                    <div class="nav-icon">üè†</div>
                    <span>Home</span>
                </button>
                <button class="nav-btn" onclick="showTab('addTab', this)">
                    <div class="nav-icon">‚ûï</div>
                    <span>Adicionar</span>
                </button>
                <button class="nav-btn" onclick="showTab('trainingTab', this)">
                    <div class="nav-icon">üèãÔ∏è</div>
                    <span>Treinos</span>
                </button>
                <button class="nav-btn" onclick="showTab('weightTab', this)">
                    <div class="nav-icon">‚öñÔ∏è</div>
                    <span>Peso</span>
                </button>
                <button class="nav-btn" onclick="showTab('nutritionTab', this)">
                    <div class="nav-icon">üçΩÔ∏è</div>
                    <span>Nutri√ß√£o</span>
                </button>
                <button class="nav-btn" onclick="showTab('communityTab', this)">
                    <div class="nav-icon">üë•</div>
                    <span>Comunidade</span>
                </button>
                <button class="nav-btn" onclick="showTab('analyticsTab', this)">
                    <div class="nav-icon">üìä</div>
                    <span>An√°lises</span>
                </button>
                <button class="nav-btn" onclick="showTab('chatTab', this)">
                    <div class="nav-icon">ü§ñ</div>
                    <span>AI Coach</span>
                </button>
                <button class="nav-btn" onclick="showTab('profileTab', this)">
                    <div class="nav-icon">üë§</div>
                    <span>Perfil</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        let isRegisterMode = false;
        let currentUser = null;

        // Initialize app when page loads
        window.addEventListener('load', function() {
            // Check if user is already logged in
            const savedUser = localStorage.getItem('bjj_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showDashboard();
            } else {
                document.getElementById('loginScreen').style.display = 'flex';
                document.getElementById('dashboard').style.display = 'none';
            }

            // Setup event listeners
            setupEventListeners();
        });

        function setupEventListeners() {
            // Toggle between login and register
            document.getElementById('toggleBtn').onclick = function() {
                isRegisterMode = !isRegisterMode;
                
                const nameGroup = document.getElementById('nameGroup');
                const loginTitle = document.getElementById('loginTitle');
                const loginSubtitle = document.getElementById('loginSubtitle');
                const submitBtn = document.getElementById('submitBtn');
                const toggleBtn = document.getElementById('toggleBtn');
                
                if (isRegisterMode) {
                    nameGroup.classList.remove('hidden');
                    loginTitle.textContent = 'Criar Conta';
                    loginSubtitle.textContent = 'Junte-se ao BJJ Prep';
                    submitBtn.textContent = 'Criar Conta';
                    toggleBtn.textContent = 'J√° tem conta? Fazer login';
                } else {
                    nameGroup.classList.add('hidden');
                    loginTitle.textContent = 'Entrar';
                    loginSubtitle.textContent = 'Acesse sua conta BJJ Prep';
                    submitBtn.textContent = 'Entrar';
                    toggleBtn.textContent = 'N√£o tem conta? Criar uma agora';
                }
            };

            // Handle form submission
            document.getElementById('loginForm').onsubmit = function(e) {
                e.preventDefault();
                
                const name = document.getElementById('nameInput').value || 'Usu√°rio';
                const email = document.getElementById('emailInput').value;
                const password = document.getElementById('passwordInput').value;
                
                if (!email || !password) {
                    alert('Por favor, preencha todos os campos obrigat√≥rios.');
                    return;
                }
                
                if (password.length < 6) {
                    alert('A senha deve ter pelo menos 6 caracteres.');
                    return;
                }
                
                currentUser = {
                    id: Date.now(),
                    name: name,
                    email: email,
                    weight: 82.5,
                    belt: 'Azul'
                };
                
                localStorage.setItem('bjj_user', JSON.stringify(currentUser));
                showDashboard();
            };
        }

        function showDashboard() {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('dashboard').style.display = 'flex';
            document.getElementById('dashboard').classList.add('active');
            
            // Update user info
            const firstName = currentUser.name.split(' ')[0];
            document.getElementById('userName').textContent = firstName;
            document.getElementById('profileName').textContent = currentUser.name;
            document.getElementById('profileEmail').textContent = currentUser.email;
            
            // Show home tab by default
            showTab('homeTab');
        }

        function showTab(tabId, buttonElement) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            
            // Update navigation buttons
            if (buttonElement) {
                const navBtns = document.querySelectorAll('.nav-btn');
                navBtns.forEach(btn => btn.classList.remove('active'));
                buttonElement.classList.add('active');
            }
        }

        function logout() {
            localStorage.removeItem('bjj_user');
            currentUser = null;
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('dashboard').classList.remove('active');
            
            // Reset form
            document.getElementById('loginForm').reset();
            
            // Reset to login mode
            if (isRegisterMode) {
                document.getElementById('toggleBtn').click();
            }
        }

        // AI Coach functionality
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage(message, true);
            input.value = '';
            
            // Generate AI response
            setTimeout(() => {
                const response = generateAIResponse(message);
                addMessage(response, false);
            }, 1000);
        }

        function addMessage(text, isUser) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message' + (isUser ? ' user' : '');
            
            messageDiv.innerHTML = `
                <div class="message-content">${text}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function generateAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('treino') || lowerMessage.includes('treinar')) {
                return 'Para treinos eficazes: 1) Aquecimento de 10-15 min, 2) T√©cnica por 30 min, 3) Sparring por 20-30 min, 4) Alongamento final. Mantenha consist√™ncia de 3-4x por semana.';
            } else if (lowerMessage.includes('dieta') || lowerMessage.includes('alimenta√ß√£o')) {
                return 'Para competi√ß√µes: 1) Mantenha hidrata√ß√£o adequada, 2) Carboidratos complexos 2-3h antes, 3) Evite alimentos pesados no dia, 4) Suplementa√ß√£o com BCAA se necess√°rio. Consulte um nutricionista esportivo.';
            } else if (lowerMessage.includes('peso') || lowerMessage.includes('cortar')) {
                return 'Corte de peso seguro: 1) Planeje com 4-6 semanas de anteced√™ncia, 2) Reduza 0.5-1kg por semana, 3) Mantenha hidrata√ß√£o, 4) Evite cortes dr√°sticos. Sua sa√∫de vem primeiro!';
            } else if (lowerMessage.includes('competi√ß√£o') || lowerMessage.includes('campeonato')) {
                return 'Prepara√ß√£o mental: 1) Visualize suas t√©cnicas, 2) Pratique respira√ß√£o profunda, 3) Chegue cedo no local, 4) Tenha um plano de jogo. Confie no seu treino!';
            } else {
                return '√ìtima pergunta! Como especialista em jiu-jitsu, recomendo focar em: t√©cnica consistente, condicionamento f√≠sico adequado e mentalidade positiva. Tem alguma √°rea espec√≠fica que gostaria de melhorar?';
            }
        }

        function handleEnter(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Competition analysis functionality with real web scraping
        async function analyzeCompetition() {
            const url = document.getElementById('competitionUrl').value.trim();
            const resultDiv = document.getElementById('competitionResult');
            
            if (!url) {
                alert('Por favor, insira o link da competi√ß√£o.');
                return;
            }
            
            if (!url.includes('cbjj.com') && !url.includes('ibjjf.com')) {
                alert('Por favor, insira um link v√°lido da CBJJ ou IBJJF.');
                return;
            }
            
            // Show loading
            resultDiv.innerHTML = '<p style="text-align: center; padding: 20px;">üîÑ Analisando competi√ß√£o...</p>';
            
            try {
                // Real web scraping using a proxy service
                const competitionData = await scrapeCompetitionData(url);
                
                if (competitionData) {
                    resultDiv.innerHTML = `
                        <div class="result-card">
                            <h3>üèÜ ${competitionData.name}</h3>
                            <p><strong>üìÖ Data:</strong> ${competitionData.date}</p>
                            <p><strong>üìç Local:</strong> ${competitionData.location}</p>
                            <p><strong>üí∞ Inscri√ß√µes:</strong> ${competitionData.price}</p>
                            <p><strong>‚è∞ Prazo:</strong> ${competitionData.deadline}</p>
                            <hr style="margin: 15px 0; border: 1px solid rgba(255,255,255,0.3);">
                            <h4>üìà Plano de Prepara√ß√£o</h4>
                            <p><strong>üéØ Tempo restante:</strong> ${competitionData.daysLeft} dias</p>
                            <p><strong>‚öñÔ∏è Categoria sugerida:</strong> Meio-Pesado (82.3kg)</p>
                            <p><strong>üèÉ‚Äç‚ôÇÔ∏è Treinos recomendados:</strong> 4x por semana</p>
                            <p><strong>üìâ Meta de peso:</strong> Manter atual (82.5kg)</p>
                            <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                                <button onclick="setAsNextCompetition('${competitionData.name}', '${competitionData.date}', '${competitionData.location}', '${competitionData.daysLeft}')" style="background: #4CAF50; border: none; color: white; padding: 10px 16px; border-radius: 5px; cursor: pointer; font-weight: bold;">üéØ Definir como Pr√≥xima Competi√ß√£o</button>
                                <button onclick="closeResult()" style="background: rgba(255,255,255,0.2); border: 1px solid white; color: white; padding: 8px 16px; border-radius: 5px; cursor: pointer;">Fechar</button>
                            </div>
                        </div>
                    `;
                } else {
                    throw new Error('N√£o foi poss√≠vel extrair dados da competi√ß√£o');
                }
                
                // Clear the input
                document.getElementById('competitionUrl').value = '';
                
            } catch (error) {
                console.error('Erro ao analisar competi√ß√£o:', error);
                resultDiv.innerHTML = `
                    <div style="background: #e74c3c; color: white; padding: 20px; border-radius: 15px; margin-top: 20px;">
                        <h3>‚ùå Erro na An√°lise</h3>
                        <p>N√£o foi poss√≠vel extrair dados desta competi√ß√£o. Isso pode acontecer devido a:</p>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>Link inv√°lido ou p√°gina n√£o encontrada</li>
                            <li>Estrutura da p√°gina foi alterada</li>
                            <li>Problemas de conectividade</li>
                        </ul>
                        <p><strong>Tente:</strong></p>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>Verificar se o link est√° correto</li>
                            <li>Usar um link mais recente</li>
                            <li>Tentar novamente em alguns minutos</li>
                        </ul>
                        <button onclick="closeResult()" style="background: rgba(255,255,255,0.2); border: 1px solid white; color: white; padding: 8px 16px; border-radius: 5px; margin-top: 10px; cursor: pointer;">Fechar</button>
                    </div>
                `;
            }
        }

        // Real web scraping function
        async function scrapeCompetitionData(url) {
            try {
                // Use CORS proxy to bypass CORS restrictions
                const proxyUrl = 'https://api.allorigins.win/get?url=' + encodeURIComponent(url);
                
                const response = await fetch(proxyUrl);
                const data = await response.json();
                
                if (!data.contents) {
                    throw new Error('N√£o foi poss√≠vel acessar a p√°gina');
                }
                
                // Parse HTML content
                const parser = new DOMParser();
                const doc = parser.parseFromString(data.contents, 'text/html');
                
                // Extract data based on domain
                if (url.includes('cbjj.com')) {
                    return extractCBJJData(doc, url);
                } else if (url.includes('ibjjf.com')) {
                    return extractIBJJFData(doc, url);
                }
                
                return null;
                
            } catch (error) {
                console.error('Erro no scraping:', error);
                return null;
            }
        }

        // Extract data from CBJJ pages
        function extractCBJJData(doc, url) {
            try {
                // Extract title
                const titleElement = doc.querySelector('title');
                let name = titleElement ? titleElement.textContent.trim() : 'Campeonato CBJJ';
                name = name.replace(' | IBJJF', '').trim();
                
                // Extract date
                let date = 'Data n√£o encontrada';
                const dateRegex = /\d{1,2}\s*-\s*\d{1,2}\s*de\s*\w+\s*de\s*\d{4}/;
                const bodyText = doc.body.textContent;
                const dateMatch = bodyText.match(dateRegex);
                if (dateMatch) {
                    date = dateMatch[0].trim();
                }
                
                // Extract location
                let location = 'Local n√£o encontrado';
                const locationRegex = /Arena|Gin√°sio|Centro|Pavilh√£o/;
                const locationMatch = bodyText.match(locationRegex);
                if (locationMatch) {
                    // Try to get more context around the match
                    const index = bodyText.indexOf(locationMatch[0]);
                    const context = bodyText.substring(index, index + 100);
                    const lines = context.split('\n');
                    location = lines[0].trim();
                }
                
                // Extract price
                let price = 'Pre√ßo n√£o encontrado';
                const priceRegex = /R\$\s*\d+[,.]?\d*/;
                const priceMatch = bodyText.match(priceRegex);
                if (priceMatch) {
                    price = priceMatch[0].trim();
                }
                
                // Extract deadline
                let deadline = 'Prazo n√£o encontrado';
                const deadlineRegex = /at√©\s*\d{1,2}\s*de\s*\w+\s*de\s*\d{4}/;
                const deadlineMatch = bodyText.match(deadlineRegex);
                if (deadlineMatch) {
                    deadline = deadlineMatch[0].trim();
                }
                
                // Calculate days left
                const daysLeft = calculateDaysLeft(date);
                
                return {
                    name: name,
                    date: date,
                    location: location,
                    price: price,
                    deadline: deadline,
                    daysLeft: daysLeft,
                    source: 'CBJJ'
                };
                
            } catch (error) {
                console.error('Erro ao extrair dados da CBJJ:', error);
                return null;
            }
        }

        // Extract data from IBJJF pages
        function extractIBJJFData(doc, url) {
            try {
                // Extract title
                const titleElement = doc.querySelector('title');
                let name = titleElement ? titleElement.textContent.trim() : 'Campeonato IBJJF';
                name = name.replace(' | IBJJF', '').trim();
                
                // Extract date - IBJJF format: "September 28th, 2025"
                let date = 'Data n√£o encontrada';
                const bodyText = doc.body.textContent;
                
                // Try multiple date patterns for IBJJF
                const datePatterns = [
                    /\w+\s+\d{1,2}(st|nd|rd|th),\s+\d{4}/,  // September 28th, 2025
                    /\w+\s+\d{1,2}-\d{1,2},\s+\d{4}/,       // August 30-31, 2025
                    /\d{1,2}-\d{1,2}\s+\w+\s+\d{4}/,        // 30-31 August 2025
                    /\w+\s+\d{1,2},\s+\d{4}/                // August 29, 2025
                ];
                
                for (const pattern of datePatterns) {
                    const dateMatch = bodyText.match(pattern);
                    if (dateMatch) {
                        date = dateMatch[0].trim();
                        break;
                    }
                }
                
                // Extract location - IBJJF format: "Mission Concepcion Sports Park"
                let location = 'Local n√£o encontrado';
                const locationPatterns = [
                    /Location[\s\S]*?([A-Z][A-Za-z\s]+(?:Park|Center|Arena|Convention|Sports|Complex|Gym))/,
                    /Location[\s\S]*?([A-Z][A-Za-z\s]+)(?=\n|\d)/,
                    /(?:Arena|Convention|Center|Pavilh√£o|Gin√°sio|Sports|Park|Complex)[\s\w]*/
                ];
                
                for (const pattern of locationPatterns) {
                    const locationMatch = bodyText.match(pattern);
                    if (locationMatch) {
                        location = locationMatch[1] ? locationMatch[1].trim() : locationMatch[0].trim();
                        // Clean up location text
                        location = location.replace(/Location\s*/i, '').trim();
                        if (location.length > 5) break;
                    }
                }
                
                // Extract price - IBJJF format: "$134.00 (USD)"
                let price = 'Pre√ßo n√£o encontrado';
                const pricePatterns = [
                    /\$\d+\.\d{2}\s*\(USD\)/,               // $134.00 (USD)
                    /\$\d+\.\d{2}/,                         // $134.00
                    /USD\s*\$?\d+\.\d{2}/                   // USD $134.00
                ];
                
                for (const pattern of pricePatterns) {
                    const priceMatch = bodyText.match(pattern);
                    if (priceMatch) {
                        price = priceMatch[0].trim();
                        if (!price.includes('USD')) {
                            price += ' (USD)';
                        }
                        break;
                    }
                }
                
                // Extract deadline - IBJJF format: "until August 29th, 2025"
                let deadline = 'Prazo n√£o encontrado';
                const deadlinePatterns = [
                    // Pattern 1: "until August 29th, 2025"
                    /(until\s+\w+\s+\d{1,2}(?:st|nd|rd|th),\s+\d{4})/i,
                    // Pattern 2: "Registration deadline: September 19th, 2025"
                    /Registration\s+deadline[\s\S]*?(\w+\s+\d{1,2}(?:st|nd|rd|th),\s+\d{4})/i,
                    // Pattern 3: Any deadline followed by date
                    /deadline[\s\S]*?(\w+\s+\d{1,2}(?:st|nd|rd|th),\s+\d{4})/i,
                    // Pattern 4: Just the date format for IBJJF
                    /(\w+\s+\d{1,2}(?:st|nd|rd|th),\s+\d{4})/,
                    // Pattern 5: Standard format without ordinals
                    /(until\s+\w+\s+\d{1,2},\s+\d{4})/i
                ];
                
                for (const pattern of deadlinePatterns) {
                    const deadlineMatch = bodyText.match(pattern);
                    if (deadlineMatch) {
                        let extractedDeadline = deadlineMatch[1] ? deadlineMatch[1].trim() : deadlineMatch[0].trim();
                        
                        // Clean up the deadline text
                        extractedDeadline = extractedDeadline.replace(/until\s+/i, '').trim();
                        extractedDeadline = extractedDeadline.replace(/Registration\s+deadline[\s\S]*?/i, '').trim();
                        extractedDeadline = extractedDeadline.replace(/deadline[\s\S]*?/i, '').trim();
                        
                        // Format for Portuguese
                        if (extractedDeadline.length > 5 && extractedDeadline.includes('2025')) {
                            deadline = 'At√© ' + extractedDeadline;
                            break;
                        }
                    }
                }
                
                // Fallback: try to find any date in 2025 as deadline
                if (deadline === 'Prazo n√£o encontrado') {
                    const fallbackPattern = /(\w+\s+\d{1,2}(?:st|nd|rd|th)?,\s+2025)/;
                    const fallbackMatch = bodyText.match(fallbackPattern);
                    if (fallbackMatch) {
                        deadline = 'At√© ' + fallbackMatch[1].trim();
                    }
                }
                
                // Calculate days left
                const daysLeft = calculateDaysLeft(date);
                
                return {
                    name: name,
                    date: date,
                    location: location,
                    price: price,
                    deadline: deadline,
                    daysLeft: daysLeft,
                    source: 'IBJJF'
                };
                
            } catch (error) {
                console.error('Erro ao extrair dados da IBJJF:', error);
                return null;
            }
        }

        // Calculate days left until competition
        function calculateDaysLeft(dateText) {
            try {
                if (!dateText || dateText === 'Data n√£o encontrada') {
                    return 0;
                }
                
                const today = new Date();
                let competitionDate;
                
                // Parse different date formats
                if (dateText.includes('de') && dateText.includes('2025')) {
                    // CBJJ format: "19 - 20 de setembro de 2025"
                    const monthMap = {
                        'janeiro': 0, 'fevereiro': 1, 'mar√ßo': 2, 'abril': 3,
                        'maio': 4, 'junho': 5, 'julho': 6, 'agosto': 7,
                        'setembro': 8, 'outubro': 9, 'novembro': 10, 'dezembro': 11
                    };
                    
                    const parts = dateText.split(' ');
                    const day = parseInt(parts[0]);
                    const monthName = parts[3];
                    const year = parseInt(parts[5]);
                    const month = monthMap[monthName];
                    
                    competitionDate = new Date(year, month, day);
                } else if (dateText.includes('th,') || dateText.includes('st,') || dateText.includes('nd,') || dateText.includes('rd,')) {
                    // IBJJF format: "September 28th, 2025"
                    const cleanDate = dateText.replace(/(\d+)(st|nd|rd|th)/, '$1');
                    competitionDate = new Date(cleanDate);
                } else {
                    // Try standard date parsing
                    competitionDate = new Date(dateText);
                }
                
                // Check if date is valid
                if (isNaN(competitionDate.getTime())) {
                    return 0;
                }
                
                // Calculate difference in days
                const timeDiff = competitionDate.getTime() - today.getTime();
                const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));
                
                return daysDiff > 0 ? daysDiff : 0;
                
            } catch (error) {
                console.error('Erro ao calcular dias restantes:', error);
                return 0;
            }
        }

        function closeResult() {
            document.getElementById('competitionResult').innerHTML = '';
        }

        // New functions for additional features
        function markTrainingComplete(day) {
            alert(`Treino de ${day} marcado como conclu√≠do! üí™`);
            // Here you would update the training status in localStorage
        }

        function adjustTrainingPlan() {
            alert('Abrindo ajustes do plano de treino... üìã');
            // Here you would open a modal to adjust the training plan
        }

        function recordWeight() {
            const weight = prompt('Digite seu peso atual (kg):');
            if (weight && !isNaN(weight)) {
                alert(`Peso ${weight}kg registrado com sucesso! ‚öñÔ∏è`);
                // Here you would save the weight to localStorage and update the chart
            }
        }

        function setWeightGoal() {
            const goal = prompt('Digite sua meta de peso (kg):');
            if (goal && !isNaN(goal)) {
                alert(`Meta de ${goal}kg definida com sucesso! üéØ`);
                // Here you would save the goal to localStorage
            }
        }

        function recordMeal(meal) {
            alert(`${meal} registrada! üçΩÔ∏è`);
            // Here you would update the nutrition tracking
        }

        function generateMealPlan() {
            alert('Gerando novo plano nutricional personalizado... ü•ó');
            // Here you would generate a new meal plan based on user preferences
        }

        function generateShoppingList() {
            alert('Lista de compras gerada! üõí\n\n‚Ä¢ Frango (500g)\n‚Ä¢ Arroz integral (1kg)\n‚Ä¢ Br√≥colis (300g)\n‚Ä¢ Batata doce (500g)\n‚Ä¢ Ovos (12 unidades)');
            // Here you would generate a shopping list based on the meal plan
        }

        function likePost(postId) {
            alert(`Post ${postId} curtido! ‚ù§Ô∏è`);
            // Here you would update the like count and save to localStorage
        }

        function commentPost(postId) {
            const comment = prompt('Digite seu coment√°rio:');
            if (comment) {
                alert(`Coment√°rio adicionado ao post ${postId}! üí¨`);
                // Here you would add the comment to the post
            }
        }

        function sharePost(postId) {
            alert(`Post ${postId} compartilhado! üì§`);
            // Here you would implement sharing functionality
        }

        function generateReport() {
            alert('Gerando relat√≥rio de performance... üìÑ\n\nO relat√≥rio ser√° enviado para seu email em alguns minutos!');
            // Here you would generate a comprehensive performance report
        }

        function exportData() {
            alert('Exportando dados... üìä\n\nSeus dados est√£o sendo preparados para download!');
            // Here you would export user data to CSV or PDF
        }

        function compareAthletes() {
            alert('Abrindo compara√ß√£o com outros atletas... üë•\n\nVoc√™ est√° no top 15% dos atletas da sua categoria!');
            // Here you would show comparison with other athletes
        }

        // Enhanced navigation function to handle all tabs
        function showTab(tabName) {
            // Hide all tabs
            const tabs = ['homeTab', 'addTab', 'aiTab', 'profileTab', 'trainingTab', 'weightTab', 'nutritionTab', 'communityTab', 'analyticsTab'];
            tabs.forEach(tab => {
                const element = document.getElementById(tab);
                if (element) {
                    element.style.display = 'none';
                }
            });

            // Show selected tab
            const selectedTab = document.getElementById(tabName);
            if (selectedTab) {
                selectedTab.style.display = 'block';
            }

            // Update navigation highlighting
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // Add active class to current nav item
            const activeNavMap = {
                'homeTab': 0,
                'addTab': 1,
                'aiTab': 2,
                'trainingTab': 3,
                'weightTab': 3, // Weight is part of training section
                'nutritionTab': 4,
                'communityTab': 5,
                'analyticsTab': 6,
                'profileTab': 7
            };
            
            const activeIndex = activeNavMap[tabName];
            if (activeIndex !== undefined && navItems[activeIndex]) {
                navItems[activeIndex].classList.add('active');
            }
        }

        // Functions to manage next competition
        function setAsNextCompetition(name, date, location, daysLeft) {
            const competitionData = {
                name: name,
                date: date,
                location: location,
                daysLeft: daysLeft
            };
            
            // Save to localStorage
            localStorage.setItem('nextCompetition', JSON.stringify(competitionData));
            
            // Update home page immediately
            updateNextCompetitionDisplay(competitionData);
            
            // Show success message
            alert('‚úÖ Competi√ß√£o definida como pr√≥xima! Verifique na p√°gina Home.');
            
            // Optionally switch to home tab
            showTab('homeTab');
        }

        function updateNextCompetitionDisplay(competitionData) {
            const competitionInfo = document.getElementById('competitionInfo');
            
            if (competitionData) {
                competitionInfo.innerHTML = `
                    <h4>${competitionData.name}</h4>
                    <p>üìÖ ${competitionData.date}</p>
                    <p>üìç ${competitionData.location}</p>
                    <p>‚è∞ ${competitionData.daysLeft} dias restantes</p>
                    <button onclick="removeNextCompetition()" class="btn-secondary" style="margin-top: 10px;">üóëÔ∏è Remover</button>
                `;
            } else {
                competitionInfo.innerHTML = `
                    <div class="no-competition">
                        <p>üìã Nenhuma competi√ß√£o definida</p>
                        <p>Adicione uma competi√ß√£o na aba "Adicionar" e defina como pr√≥xima!</p>
                        <button onclick="showTab('addTab')" class="btn-secondary">Adicionar Competi√ß√£o</button>
                    </div>
                `;
            }
        }

        function removeNextCompetition() {
            localStorage.removeItem('nextCompetition');
            updateNextCompetitionDisplay(null);
        }

        function loadNextCompetition() {
            const savedCompetition = localStorage.getItem('nextCompetition');
            if (savedCompetition) {
                const competitionData = JSON.parse(savedCompetition);
                updateNextCompetitionDisplay(competitionData);
            }
        }

        // Initialize enhanced navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved competition on page load
            loadNextCompetition();
            
            // Update navigation to handle all tabs
            const navItems = document.querySelectorAll('.nav-item');
            const tabMap = ['homeTab', 'addTab', 'aiTab', 'trainingTab', 'nutritionTab', 'communityTab', 'analyticsTab', 'profileTab'];
            
            navItems.forEach((item, index) => {
                item.onclick = function() {
                    if (tabMap[index]) {
                        showTab(tabMap[index]);
                    }
                };
            });
        });
    </script>
</body>
</html>

